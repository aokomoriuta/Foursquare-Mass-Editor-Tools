<html> 
<head> 
<title>foursquare :: Edi&ccedil;&atilde;o de venues em massa via API</title>
<script src="js/dojo/dojo.js" djConfig="parseOnLoad: true"></script>
<script type="text/javascript">
  dojo.require("dijit.form.Form");
  dojo.require("dijit.form.Button");
  dojo.require("dijit.form.CheckBox");
  dojo.require("dijit.form.SimpleTextarea");
  dojo.require("dijit.form.TextBox");
  dojo.require("dijit.form.ValidationTextBox");
  dojo.require("dijit.layout.AccordionContainer");
  dojo.require("dojox.form.Uploader");
  dojo.require("dojo.cookie");
  dojo.addOnLoad(function() {
    var arquivo_csv = dojo.byId("arquivo_csv");
    var arquivo_nome = "";
    var uploader_csv = new dojox.form.Uploader({
      name: "csv",
      multiple: false,
      label: "Escolher arquivo",
      style: "width: 9em;",
      onChange: function(data) {
        arquivo_csv.innerHTML = data[0].name + " (" + Math.ceil(data[0].size * .001) + " kB)";
        arquivo_nome = data[0].name;
      }
    },
    "csv");
    var form_csv = dijit.byId("f_csv");
    var oauth_csv = dijit.byId("oauth_token_csv");
    dojo.connect(form_csv, "onSubmit", function(e) {
      if (form_csv.validate()) {
        if (oauth_csv.get("value").length != 48) {
          e.preventDefault();
          alert("O OAuth token deve possuir 48 caracteres");
          oauth_csv.focus();
        } else if (arquivo_csv.innerHTML === "Nenhum arquivo selecionado") {
          e.preventDefault();
          alert("O arquivo precisa ser escolhido");
          uploader_csv.inputNode.focus();
        } else if (arquivo_nome.split('.').pop() != "csv") {
          e.preventDefault();
          alert("O arquivo deve ser do tipo CSV");
          uploader_csv.inputNode.focus();
        //} else {
          //alert("Ready to submit data: " + dojo.toJson(form_csv.attr("value")));
        }
      } else {
        e.preventDefault();
      }
      dojo.cookie("oauth_token", dijit.byId("oauth_token_csv").value, { expires: 5 });
    });
    var arquivo_txt = dojo.byId("arquivo_txt");
    var uploader_txt = new dojox.form.Uploader({
      name: "txt",
      multiple: false,
      label: "Escolher arquivo",
      style: "width: 9em;",
      onChange: function(data) {
        arquivo_txt.innerHTML = data[0].name + " (" + Math.ceil(data[0].size * .001) + " kB)";
      }
    },
    "txt");
    var form_txt = dijit.byId("f_txt");
    var oauth_txt = dijit.byId("oauth_token_txt");
    dojo.connect(form_txt, "onSubmit", function(e) {
      if (form_txt.validate()) {
        if (oauth_txt.get("value").length != 48) {
          e.preventDefault();
          alert("O OAuth token deve possuir 48 caracteres");
          oauth_txt.focus();
        } else if (arquivo_txt.innerHTML === "Nenhum arquivo selecionado") {
          e.preventDefault();
          alert("O arquivo precisa ser escolhido");
          uploader_txt.inputNode.focus();
        } else if (dojo.query('input:checked', 'f_txt').length == 0) {
          e.preventDefault();
          alert("Selecione pelo menos um dos campos");
          dijit.byId("nome").focus();
        //} else {
          //alert("Ready to submit data: " + dojo.toJson(form_txt.attr("value")));
        }
      } else {
        e.preventDefault();
      }
      dojo.cookie("oauth_token", dijit.byId("oauth_token_txt").value, { expires: 5 });
    });
    var form_ids = dijit.byId("f_ids");
    var oauth_ids = dijit.byId("oauth_token_ids");
    var textarea_ids = dijit.byId("textarea_ids");
    dojo.connect(form_ids, "onSubmit", function(e) {
      if (form_ids.validate()) {
        if (oauth_ids.get("value").length != 48) {
          e.preventDefault();
          alert("O OAuth token deve possuir 48 caracteres");
          oauth_ids.focus();
        } else if (textarea_ids.value == "") {
          e.preventDefault();
          alert("Informe pelo menos uma venue");
          textarea_ids.focus();
        } else if (dojo.query('input:checked', 'f_ids').length == 0) {
          e.preventDefault();
          alert("Selecione pelo menos um dos campos");
          dijit.byId("nome2").focus();
        //} else {
          //alert("Ready to submit data: " + dojo.toJson(form_txt.attr("value")));
        }
      } else {
        e.preventDefault();
      }
      dojo.cookie("oauth_token", dijit.byId("oauth_token_ids").value, { expires: 5 });
    });
  });
  dojo.ready(function() {
    setTimeout(function() {
      dijit.byId("oauth_token_csv").attr("value", dojo.cookie("oauth_token"));
      dijit.byId("oauth_token_txt").attr("value", dojo.cookie("oauth_token"));
      dijit.byId("oauth_token_ids").attr("value", dojo.cookie("oauth_token"));
      //dijit.byId("oauth_token_csv").focus();
    });
  }, 0);
</script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="js/dijit/themes/claro/claro.css"/>
<link rel="stylesheet" type="text/css" href="estilo.css"/>
</head> 
<body class="claro">
<h2>Ferramentas de edi&ccedil;&atilde;o</h2>
<div style="width: 583px;">
<p>Para ajudar a manter atualizadas as venues do foursquare, temos algumas ferramentas que permitem aos usu&aacute;rios confi&aacute;veis editar, atualizar ou mesclar venues. Obrigado por ajudar a melhorar as listagens de venues do foursquare.<p>
<div dojoType="dijit.layout.AccordionContainer" doLayout="false">
  <div dojoType="dijit.layout.ContentPane" title="Importar dados de um arquivo CSV">
    <div dojoType="dijit.form.Form" enctype="multipart/form-data" accept-charset="iso-8859-1" id="f_csv" jsId="f_csv" encType="multipart/form-data" action="edit2.php" method="post">
    <div id="toolContainer">
    <div class="row">
    <span class="label"><label for="oauth_token"><a href="https://developer.foursquare.com/docs/explore.html#req=users/self" target="_blank">OAuth token</a>:</span>
    <span class="formw"><input type="text" id="oauth_token_csv" name="oauth_token" required="true" dojoType="dijit.form.ValidationTextBox" maxlength="48" style="width: 34em;"/></span>
    </div>
    <div class="row">
    <span class="label"><label for="csv">Arquivo CSV:</span>
    <span class="button"><input type="hidden" name="MAX_FILE_SIZE" value="100000" dojoType="dijit.form.TextBox"/><input  type="file" id="csv" name="csv" style="width: 9em;"/></span>
    <span class="arquivo" id="arquivo_csv">Nenhum arquivo selecionado</span>
    </div>
    </div>
    <!--
    <button dojoType="dijit.form.Button" type=button onClick="console.log(f.getValues())">
      Get Values from form!
    </button>
    -->
    <div>
    <button dojoType="dijit.form.Button" type="submit">
      Continuar
    </button>
    </div>
    </div>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Importar lista de um arquivo de texto">
    <div dojoType="dijit.form.Form" enctype="multipart/form-data" accept-charset="iso-8859-1" id="f_txt" jsId="f_txt" encType="multipart/form-data" action="edit3.php" method="post">
    <div id="toolcontainer">
    <div class="row">
    <span class="label"><label for="oauth_token"><a href="https://developer.foursquare.com/docs/explore.html#req=users/self" target="_blank">OAuth token</a>:</span>
    <span class="formw"><input type="text" id="oauth_token_txt" name="oauth_token" required="true" dojoType="dijit.form.ValidationTextBox" maxlength="48" style="width: 34em;"/></span>
    </div>
    <div class="row">
    <span class="label"><label for="txt">Arquivo TXT:</span>
    <span class="button"><input type="hidden" name="MAX_FILE_SIZE" value="100000" dojoType="dijit.form.TextBox"/><input class="browseButton" type="file" id="txt" name="txt" style="width: 9em;"/></span>
    <span class="arquivo" id="arquivo_txt">Nenhum arquivo selecionado</span>
    </div>
    <div class="row">
    <span class="label"><label for="campos">Campos:</span>
    <span class="checkboxes">
    <div class="checkbox" style="width: 5.2em;">
      <input id="nome" name="campos[]" dojoType="dijit.form.CheckBox" value="nome">
      <label for="nome">
        Nome
      </label>
    </div>
    <div class="checkbox" style="width: 6.2em;">
      <input id="endereco" name="campos[]" dojoType="dijit.form.CheckBox" value="endereco">
      <label for="endereco">
        Endere&ccedil;o
      </label>
    </div>
    <div class="checkbox" style="width: 6.7em;">
      <input id="ruacross" name="campos[]" dojoType="dijit.form.CheckBox" value="ruacross">
      <label for="ruacross">
        Rua Cross
      </label>
    </div>
    <div class="checkbox" style="width: 6.5em;">
      <input id="cidade" name="campos[]" dojoType="dijit.form.CheckBox" value="cidade">
      <label for="cidade">
        Cidade
      </label>
    </div>
    <div class="checkbox" style="width: 5.8em;">
      <input id="estado" name="campos[]" dojoType="dijit.form.CheckBox" value="estado">
      <label for="estado">
        Estado
      </label>
    </div>
    <div class="checkbox" style="width: 3.6em;">
      <input id="cep" name="campos[]" dojoType="dijit.form.CheckBox" value="cep">
      <label for="cep">
        CEP
      </label>
    </div>
    <br>
    <div class="checkbox" style="width: 5.2em;">
      <input id="twitter" name="campos[]" dojoType="dijit.form.CheckBox" value="twitter">
      <label for="twitter">
        Twitter
      </label>
    </div>
    <div class="checkbox" style="width: 6.2em;">
      <input id="telefone" name="campos[]" dojoType="dijit.form.CheckBox" value="telefone">
      <label for="telefone">
        Telefone
      </label>
    </div>
    <div class="checkbox" style="width: 6.7em;">
      <input id="website" name="campos[]" dojoType="dijit.form.CheckBox" value="website">
      <label for="website">
        Website
      </label>
    </div>
    <div class="checkbox" style="width: 6.5em;">
      <input id="descricao" name="campos[]" dojoType="dijit.form.CheckBox" value="descricao">
      <label for="descricao">
        Descri&ccedil;&atilde;o
      </label>
    </div>
    <div class="checkbox" style="width: 6em;">
      <input id="latlong" name="campos[]" dojoType="dijit.form.CheckBox" value="latlong">
      <label for="latlong">
        Lat/Long
      </label>
    </div>
    </span>
    </div>
    </div>
    <!--
    <button dojoType="dijit.form.Button" type=button onClick="console.log(f.getValues())">
      Get Values from form!
    </button>
    -->
    <div>
    <button dojoType="dijit.form.Button" type="submit">
      Continuar
    </button>
    </div>
    </div>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Informar IDs ou URLs das venues" selected="true">
    <div dojoType="dijit.form.Form" enctype="multipart/form-data" accept-charset="iso-8859-1" id="f_ids" jsId="f_ids" encType="multipart/form-data" action="edit3.php" method="post">
    <div id="toolContainer">
    <div class="row">
    <span class="label"><label for="oauth_token"><a href="https://developer.foursquare.com/docs/explore.html#req=users/self" target="_blank">OAuth token</a>:</span>
    <span class="formw"><input type="text" id="oauth_token_ids" name="oauth_token" required="true" dojoType="dijit.form.ValidationTextBox" maxlength="48" style="width: 34em;"/></span>
    </div>
    <div class="row">
    <span class="label"><label for="csv">IDs ou URLs:</span>
    <span class="textarea"><textarea id="textarea_ids" name="textarea" dojoType="dijit.form.SimpleTextarea" style="font-family: Helvetica, Verdana, Arial, sans-serif; font-size: 100%; color: #5A5858; resize: none; width: 442px;"></textarea></span>
    </div>
    <div class="row">
    <span class="label"><label for="campos">Campos:</span>
    <span class="checkboxes">
    <div class="checkbox" style="width: 5.2em;">
      <input id="nome2" name="campos2[]" dojoType="dijit.form.CheckBox" value="nome">
      <label for="nome2">
        Nome
      </label>
    </div>
    <div class="checkbox" style="width: 6.2em;">
      <input id="endereco2" name="campos2[]" dojoType="dijit.form.CheckBox" value="endereco">
      <label for="endereco2">
        Endere&ccedil;o
      </label>
    </div>
    <div class="checkbox" style="width: 6.7em;">
      <input id="ruacross2" name="campos2[]" dojoType="dijit.form.CheckBox" value="ruacross">
      <label for="ruacross2">
        Rua Cross
      </label>
    </div>
    <div class="checkbox" style="width: 6.5em;">
      <input id="cidade2" name="campos2[]" dojoType="dijit.form.CheckBox" value="cidade">
      <label for="cidade2">
        Cidade
      </label>
    </div>
    <div class="checkbox" style="width: 5.8em;">
      <input id="estado2" name="campos2[]" dojoType="dijit.form.CheckBox" value="estado">
      <label for="estado2">
        Estado
      </label>
    </div>
    <div class="checkbox" style="width: 3.6em;">
      <input id="cep2" name="campos2[]" dojoType="dijit.form.CheckBox" value="cep">
      <label for="cep2">
        CEP
      </label>
    </div>
    <br>
    <div class="checkbox" style="width: 5.2em;">
      <input id="twitter2" name="campos2[]" dojoType="dijit.form.CheckBox" value="twitter">
      <label for="twitter2">
        Twitter
      </label>
    </div>
    <div class="checkbox" style="width: 6.2em;">
      <input id="telefone2" name="campos2[]" dojoType="dijit.form.CheckBox" value="telefone">
      <label for="telefone2">
        Telefone
      </label>
    </div>
    <div class="checkbox" style="width: 6.7em;">
      <input id="website2" name="campos2[]" dojoType="dijit.form.CheckBox" value="website">
      <label for="website2">
        Website
      </label>
    </div>
    <div class="checkbox" style="width: 6.5em;">
      <input id="descricao2" name="campos2[]" dojoType="dijit.form.CheckBox" value="descricao">
      <label for="descricao2">
        Descri&ccedil;&atilde;o
      </label>
    </div>
    <div class="checkbox" style="width: 6em;">
      <input id="latlong2" name="campos2[]" dojoType="dijit.form.CheckBox" value="latlong">
      <label for="latlong2">
        Lat/Long
      </label>
    </div>
    </span>
    </div>
    </div>
    <!--
    <button dojoType="dijit.form.Button" type=button onClick="console.log(f.getValues())">
      Get Values from form!
    </button>
    -->
    <div>
    <button dojoType="dijit.form.Button" type="submit">
      Continuar
    </button>
    </div>
    </div>
  </div>
  <!-- <div dojoType="dijit.layout.ContentPane" title="Informar os IDs ou URLs das venues" selected="true">
    Hi how are you? .....Great, thx
  </div> -->
</div>
</div>


<!-- Start of StatCounter Code for Default Guide
<script type="text/javascript">
var sc_project=7288306; 
var sc_invisible=1; 
var sc_security="a38fdf67"; 
</script>
<script type="text/javascript"
src="http://www.statcounter.com/counter/counter.js"></script>
<noscript><div class="statcounter"><a title="tumblr visitor
stats" href="http://statcounter.com/tumblr/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/7288306/0/a38fdf67/1/"
alt="tumblr visitor stats"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
